import{s as _}from"./index-bd4e735d.js";import{r as p,a,o as u,c as g,b as r,d as s,w as n}from"./index-2feffed8.js";import"./http-29679fce.js";const f={class:"login"},v={class:"login-box"},V=r("div",{class:"title"}," 宿舍平台登录 ",-1),k={__name:"Login",setup(y){const e=p({no:"",pass:""});async function m(){const o=await _.login(e);o.code==="success"?(ElMessage({message:o.msg,type:"success"}),cusSessionStorage.setItem("token",o.data.token),router.push("/layout")):ElMessage({message:o.msg,type:"error"})}return(o,t)=>{const c=a("el-input"),i=a("el-form-item"),d=a("el-form");return u(),g("div",f,[r("div",v,[V,s(d,{class:"login-form"},{default:n(()=>[s(i,{label:""},{default:n(()=>[s(c,{modelValue:e.no,"onUpdate:modelValue":t[0]||(t[0]=l=>e.no=l),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),s(i,{label:""},{default:n(()=>[s(c,{modelValue:e.pass,"onUpdate:modelValue":t[1]||(t[1]=l=>e.pass=l),type:"password","show-password":"",placeholder:"密码(默认身份证号后6位)"},null,8,["modelValue"])]),_:1})]),_:1}),r("div",{class:"login-btn",onClick:m},"登录")])])}}};export{k as default};
